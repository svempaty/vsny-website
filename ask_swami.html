<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        .accordion {
            background-color: #EDF1F2;
            color: #071330;
            cursor: pointer;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            transition: 0.4s;
            /* height: 14px; */
            padding-top: 30px;
            padding-bottom: 30px;
            padding-left: 0px;
            padding-right: 0px;
            min-width: 70%;
            font-family: 'Adobe Garamond Pro', serif;
            font-size: 24px;
            vertical-align: middle;
        }

        .active, .accordion:hover {
            background-color: #C3CEDA;
        }

        a:link { text-decoration: none; color: #071330; }
        a:visited { text-decoration: none; }
        a:hover { text-decoration: none; }
        a:active { text-decoration: none; }

        .panel {
            padding: 0 18px;
            display: none;
            background-color: #EDF1F2;
            overflow: hidden;
            white-space: pre-wrap;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            color: #071330;
            font-size: 17.6px;
            line-height: 1.8em;
        }
    </style>
</head>
<body>
    <div id="accordion-container"></div>

    <script>
        const url = 'https://svempaty.github.io/vsny-website/ask_swami_data.json';

        fetch(url)
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('accordion-container');
                data.forEach((item, index) => {
                    const accordion = document.createElement('button');
                    accordion.classList.add('accordion');
                    accordion.innerText = item.category;

                    const panel = document.createElement('div');
                    panel.classList.add('panel');
                    
                    item.links.forEach(link => {
                        const a = document.createElement('a');
                        a.href = link.url;
                        a.innerText = link.text;
                        a.target = '_blank';
                        panel.appendChild(a);
                        panel.appendChild(document.createElement('br'));
                    });

                    container.appendChild(accordion);
                    container.appendChild(panel);

                    accordion.addEventListener('click', () => {
                        accordion.classList.toggle('active');
                        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
                    });
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    </script>
</body>
</html>
